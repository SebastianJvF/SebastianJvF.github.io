<!doctype html>
<html>
<head>

	<title>Web app for rapid prototyping of interactive smartphone cases</title>
	
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/layout.css"  media="all">
	
	<script src="js/fabric/fabric.js" type="text/javascript"></script>
	<script src="js/jquery/jquery-1.11.3.js" type="text/javascript"></script>
	
	<script src="js/app/menu-toggles.js" type="text/javascript"></script>
	<script src="js/app/information-messages.js" type="text/javascript"></script>
	<script src="js/app/draggable-objects.js" type="text/javascript"></script>
	
	<script type="text/javascript">	
	/** APPLICATION **/
	/* Variables */
	var phoneModel = '';
	var addedObjects;
	
	/* Phone model */
	/* Make the user choose a phone model (disabled), show message */
	/* TO ADD NEW OBJECTS: add to the list under "Phone model"! */
	$(document).ready(function() {
		// $('#canvas').hide();
		$('#phone-model').change(function () {
		    if($(this).val() != '') {
		    	phoneModel = $(this).val();
		    	showMessage('Phone model chosen:<br>' +  $("#phone-model option:selected").text(), showMessageBlue);
		    	// $('#canvas').show();
		    } else {
		    	// $('#canvas').hide();
				phoneModel = '';
				showMessage('Please choose a phone model!', showMessageRed);
		    }
		})
	});
	
	/* $( ".inner" ).append( "<p>Test</p>" ); add all menu elements with jquery in an array of all objects*/
	
	/** ADD DRAG AND DROP OPTIONS **/	
	$(document).ready(function() {
	    
	    /** Push **/
	    /* Small push button */
	    var smallPushButton = [];
	    fabric.loadSVGFromURL("img/buttons/small-push-button.svg", function(objects, options) {
	    	
	    	var loadedObjects = new fabric.Group(smallPushButton);
	    	createDraggableObject(loadedObjects, 'small-push-button');
	    
	    }, function(item, object) {
	    		object.set('id', item.getAttribute('id'));
	    		smallPushButton.push(object);
	       }
	    );
	    
	    /* Big push button */
	    var bigPushButton = [];
	    fabric.loadSVGFromURL("img/buttons/big-push-button.svg", function(objects, options) {
	    	
	    	var loadedObjects = new fabric.Group(bigPushButton);
	    	createDraggableObject(loadedObjects, 'big-push-button');
	    
	    }, function(item, object) {
	    		object.set('id', item.getAttribute('id'));
	    		bigPushButton.push(object);
	       }
	    );
	    
	    /* Rocker button */
	    var rockerButton = [];
	    fabric.loadSVGFromURL("img/buttons/rocker-button.svg", function(objects, options) {
	    	
	    	var loadedObjects = new fabric.Group(rockerButton);
	    	createDraggableObject(loadedObjects, 'rocker-button');
	    
	    }, function(item, object) {
	    		object.set('id', item.getAttribute('id'));
	    		rockerButton.push(object);
	       }
	    );
	    
	    /**  **/
	    		    
	});
	</script>

</head>
<body>
	<div id="info-message">
	Please activate Javascript to use this application.
	</div>

	<div id="wrap">
		<nav>
			<div class="information">
			Please click on the menu headers below
			to view available configuration options.
			</div>
			
			<h1>Phone model</h1>
			<div class="description">Choose one of the available phone models below</div>
			<div class="options">
				<form id="application">
				<select id="phone-model">
				<option value="">Please choose...</option>
				<option value="iphone-5">iPhone 5</option>
				</select>
				</form>
			</div>	
			
			<h1>Push buttons</h1>
			<div class="description">Rockers and buttons that spring back to their usual, unpushed state</div>
			<div class="options">
				<ul>
				<li><a href="#" id="small-push-button"><span></span>Small push button</a></li>
				<li><a href="#" id="big-push-button"><span></span>Big push button</a></li>
				<li><a href="#" id="rocker-button"><span></span>Rocker button</a></li>
				</ul>
			</div>
			
			<!-- Not implemented as of today
			<h1>Knobs</h1>
			<div class="description">Rotary controls that can be turned to indicate one of the available state positions</div>
			<div class="options">Options panel</div>
			-->
			
			<h1>Sliders</h1>
			<div class="description">Control element to set a value by moving an indicator</div>
			<div class="options">
				<ul>
				<li><a href="#" id="slider-2-positions"><span></span>2 positions</a></li>
				<li><a href="#" id="slider-3-positions"><span></span>3 positions</a></li>
				<li><a href="#" id="slider-5-positions"><span></span>5 positions</a></li>
				</ul>
			</div>
		</nav>
		
		<div id="two-d-preview">
			<div class="information">
			This is a <span class="bold">2D representation</span> of the phone case.<br>
			Please drag controls from the menu onto the panel.
			</div>
	    	<div id="fire-dragend">
	    	<canvas id="two-d-panel" width="570" height="500"></canvas>
	    	</div>
	    </div> 
	    <script src="js/app/create-canvas.js" type="text/javascript"></script>
		
		<div id="three-d-preview">
			<div class="information">This is a <span class="bold">3D preview</span> of the case.<br> Turn it by dragging around.</div>
			<div id="three-d-panel"></div>
			<a href="#" title="Download 3D model(s)">Download 3D model(s)</a>
		</div>
		
		<span class="clear"></span>
	</div>

</body>
</html>